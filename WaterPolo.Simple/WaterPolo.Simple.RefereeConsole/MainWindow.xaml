<dx:ThemedWindow
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
    xmlns:coreConvert="clr-namespace:WaterPolo.Simple.Core.Control.Common;assembly=WaterPolo.Simple.Core.Control"
    xmlns:core="clr-namespace:WaterPolo.Simple.Core.Control;assembly=WaterPolo.Simple.Core.Control"
    xmlns:local="clr-namespace:WaterPolo.Simple.RefereeConsole" x:Class="WaterPolo.Simple.RefereeConsole.MainWindow"
    Title="Referee Console" Height="350" Width="525"

    WindowStartupLocation="CenterScreen" WindowState="Maximized"
    DataContext="{dxmvvm:ViewModelSource Type={x:Type local:MainWindowViewModel}}">
    <dx:ThemedWindow.Resources>
        <coreConvert:VisibilityConverter x:Key="VisibilityConverter" />
    </dx:ThemedWindow.Resources>
    <Grid Visibility="{Binding ShowMatchController,Converter={StaticResource VisibilityConverter}}">
        <core:MatchControl DataContext="{Binding Match}" />
    </Grid>

    <dxmvvm:Interaction.Behaviors>
        <dxmvvm:OpenFileDialogService Title="{Binding Title}"/>
        <dxmvvm:EventToCommand PassEventArgsToCommand="True" Command="{Binding KeyDownCommand}" EventName="KeyDown">
            <dxmvvm:EventToCommand.EventArgsConverter>
                <coreConvert:KeyConverter />
            </dxmvvm:EventToCommand.EventArgsConverter>
        </dxmvvm:EventToCommand>
        <dx:DialogService DialogWindowStartupLocation="CenterOwner" x:Name="settings">
            <dx:DialogService.ViewTemplate>
                <DataTemplate>
                    <local:SettingsView />
                </DataTemplate>
            </dx:DialogService.ViewTemplate>
            <dx:DialogService.DialogStyle>
                <Style TargetType="dx:DXDialogWindow">
                    <Setter Property="Width" Value="500" />
                    <Setter Property="Height" Value="300" />
                </Style>
            </dx:DialogService.DialogStyle>
        </dx:DialogService>
        <dx:DialogService DialogWindowStartupLocation="CenterOwner" x:Name="schedule">
            <dx:DialogService.ViewTemplate>
                <DataTemplate>
                    <local:ScheduleSelectionView />
                </DataTemplate>
            </dx:DialogService.ViewTemplate>
            <dx:DialogService.DialogStyle>
                <Style TargetType="dx:DXDialogWindow">
                    <Setter Property="Width" Value="500" />
                    <Setter Property="Height" Value="800" />
                </Style>
            </dx:DialogService.DialogStyle>
        </dx:DialogService>
        <dx:DialogService DialogWindowStartupLocation="CenterOwner" x:Name="reset">
            <dx:DialogService.ViewTemplate>
                <DataTemplate>
                    <local:ResetSettingsView />
                </DataTemplate>
            </dx:DialogService.ViewTemplate>
            <dx:DialogService.DialogStyle>
                <Style TargetType="dx:DXDialogWindow">
                    <Setter Property="Width" Value="500" />
                    <Setter Property="Height" Value="500" />
                </Style>
            </dx:DialogService.DialogStyle>
        </dx:DialogService>
    </dxmvvm:Interaction.Behaviors>
</dx:ThemedWindow>